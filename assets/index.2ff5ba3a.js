import{d as e,t as a,b as t,o as n,c as l,n as s,w as i,e as r,q as c,v as o,x as d,F as u,y as m,_ as p,z as h,a as f,A as v,B as _,C as g,u as y,s as b,f as k,K as x,D as T,T as w,G as C,H as L,I,E as A,J as z,p as B,m as E}from"./index.e0c936d8.js";const $={key:0,class:"menu-wrapper"},H=e({__name:"AsideItem",props:{nav:{type:Object,required:!0},isNest:{type:Boolean,default:!1}},setup:e=>(a(e),(a,p)=>{const h=t("I"),f=t("el-menu-item"),v=t("AsideItem",!0),_=t("el-sub-menu");return e.nav.meta&&!e.nav.hide?(n(),l("div",$,[e.nav.children&&e.nav.children.length?(n(),s(_,{key:1,index:e.nav.path},{title:i((()=>[e.nav.meta.icon?(n(),s(h,{key:0,name:e.nav.meta.icon,size:"18",class:"sidebar-icon"},null,8,["name"])):o("",!0),r("span",null,c(e.nav.meta.title),1)])),default:i((()=>[(n(!0),l(u,null,m(e.nav.children,(e=>(n(),l("div",{key:e.path},[e.children&&e.children.length?(n(),s(v,{key:e.path,index:e.path,"is-nest":!0,nav:e,class:"nest-menu"},null,8,["index","nav"])):(n(),s(f,{key:1,index:e.path},{title:i((()=>[e.meta.icon?(n(),s(h,{key:0,name:e.meta.icon,size:"18",class:"sidebar-icon"},null,8,["name"])):o("",!0),r("span",null,c(e.meta.title),1)])),_:2},1032,["index"]))])))),128))])),_:1},8,["index"])):(n(),s(f,{key:0,index:e.nav.path,class:d({"sub-menu-title-noDropdown":!e.nav.isNest})},{title:i((()=>[r("span",null,c(e.nav.meta.title),1)])),default:i((()=>[e.nav.meta.icon?(n(),s(h,{key:0,name:e.nav.meta.icon,size:"18",class:"sidebar-icon"},null,8,["name"])):o("",!0)])),_:1},8,["index","class"]))])):o("",!0)})});var j=p(e({__name:"index",setup(e){const a=h(),r=f([]),c=v((()=>b.state.app.sidebar.opened)),o=v((()=>!c.value));_((()=>{d()}));const d=()=>{g.forEach((e=>{if("/"===e.path){const a=e.children;r.push(...a)}}));for(let e=0;e<r.length;e++)r[e].meta&&r[e].meta.roles&&!r[e].meta.roles.includes(a)&&(r.splice(e,1),e--);p(r)},p=e=>{const t=[];e.forEach((e=>{(e.meta&&!e.meta.roles||e.meta&&e.meta.roles&&e.meta.roles.includes(a))&&(t.push(e),e.children&&p(e.children))})),e.length=0,e.push(...t)};return(e,a)=>{const c=t("el-menu");return n(),s(c,{router:!0,"default-active":e.$route.path,collapse:y(o),"show-timeout":200,"text-color":"#fff","background-color":"#00bfa6","active-text-color":"#003739"},{default:i((()=>[(n(!0),l(u,null,m(r,(e=>(n(),s(H,{key:e.path,index:e.path,nav:e},null,8,["index","nav"])))),128))])),_:1},8,["default-active","collapse"])}}}),[["__scopeId","data-v-29182c79"]]);var q=p(e({name:"AppMain"}),[["render",function(e,a,l,r,c,o){const d=t("router-view");return n(),s(d,null,{default:i((({Component:e})=>[k(w,{appear:"",name:"fade-transform",mode:"out-in"},{default:i((()=>[(n(),s(x,null,[(n(),s(T(e)))],1024))])),_:2},1024)])),_:1})}]]);var D=p(e({__name:"Tags",props:{dynamicTags:{type:Array,default:[]}},setup(e){const a=e;return(r,o)=>{const d=t("el-tag");return n(!0),l(u,null,m(e.dynamicTags,(e=>(n(),s(d,{key:e.path,class:"mx-1",closable:"",effect:e.checked?"dark":"light","disable-transitions":!1,onClose:t=>(e=>{a.dynamicTags.splice(a.dynamicTags.indexOf(e),1)})(e),onClick:a=>r.$router.replace(e.path)},{default:i((()=>[C(c(e.title),1)])),_:2},1032,["effect","onClose","onClick"])))),128)}}}),[["__scopeId","data-v-48b22a36"]]);const F={key:0,class:"no-redirect"},N=e({__name:"Breadcrumb",props:{levelList:{type:Array,default:[]}},setup:e=>(a,r)=>{const o=t("router-link"),d=t("el-breadcrumb-item"),p=t("el-breadcrumb");return n(),s(p,{separator:"/"},{default:i((()=>[(n(!0),l(u,null,m(e.levelList,((a,t)=>(n(),s(d,{key:a.path},{default:i((()=>["noRedirect"===a.redirect||t==e.levelList.length-1?(n(),l("span",F,c(a.meta.title),1)):(n(),s(o,{key:1,to:a.redirect||a.path},{default:i((()=>[C(c(a.meta.title),1)])),_:2},1032,["to"]))])),_:2},1024)))),128))])),_:1})}});const O={class:"header"},S={class:"header-list"},G={class:"header-user"},J=C("首页"),K=C("修改密码"),M=C("退出登录"),R={class:"header-tags"};var X=p(e({__name:"index",setup(e){const a=L(),s=f({levelList:[],dynamicTags:[]}),o=v((()=>b.state.user.avatar)),d=v((()=>b.state.user.name));I((()=>a.matched),(e=>{!function(e){let a=e.filter((e=>e.meta&&e.meta.title));if(!function(e){const a=e&&e.name;if(!a)return!1;return a.trim().toLocaleLowerCase()==="Home".toLocaleLowerCase()}(a[0])){a=[{path:"/home",meta:{title:"首页"}}].concat(a)}s.levelList=a.filter((e=>e.meta&&e.meta.title&&!1!==e.meta.breadcrumb))}(e),function(e){const a={path:e[e.length-1].path,title:e[e.length-1].meta.title,checked:!1};let t=0;s.dynamicTags.forEach((e=>{e.title===a.title&&t++})),t||s.dynamicTags.push(a)}(e)}),{immediate:!0});const u=()=>{A.warning("请联系管理员")},m=()=>{b.dispatch("user/logout").then((()=>{z.push("/login")})).catch((e=>{}))};return(e,a)=>{const p=t("el-avatar"),h=t("el-dropdown-item"),f=t("el-dropdown-menu"),v=t("el-dropdown");return n(),l("div",O,[r("div",S,[k(N,{levelList:s.levelList},null,8,["levelList"]),r("div",G,c(y(d)),1),k(v,null,{dropdown:i((()=>[k(f,null,{default:i((()=>[k(h,{onClick:a[0]||(a[0]=a=>e.$router.replace("/"))},{default:i((()=>[J])),_:1}),k(h,{onClick:u},{default:i((()=>[K])),_:1}),k(h,{onClick:m},{default:i((()=>[M])),_:1})])),_:1})])),default:i((()=>[k(p,{size:40,src:y(o)?y(o):"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,8,["src"])])),_:1})]),r("div",R,[k(D,{dynamicTags:s.dynamicTags},null,8,["dynamicTags"])])])}}}),[["__scopeId","data-v-71131d9a"]]);const P=e=>(B("data-v-647a5f96"),e=e(),E(),e),Q=[P((()=>r("img",{src:"/vue3-fast-admin/assets/fast-admin-logo.33001db4.png",alt:"logo"},null,-1)))],U=P((()=>r("div",{class:"footer"},[r("a",{href:"https://github.com/HalseySpicy",target:"_blank"}," 2023 © Fast-Admin By TSX Technology. ")],-1)));var V=p(e({__name:"index",setup:e=>(e,a)=>{const l=t("el-aside"),c=t("el-header"),o=t("el-main"),d=t("el-footer"),u=t("el-container");return n(),s(u,null,{default:i((()=>[k(l,{width:"200px"},{default:i((()=>[r("div",{class:"logo",onClick:a[0]||(a[0]=a=>e.$router.push("/"))},Q),k(j)])),_:1}),k(u,null,{default:i((()=>[k(c,null,{default:i((()=>[k(X)])),_:1}),k(o,null,{default:i((()=>[k(q)])),_:1}),k(d,null,{default:i((()=>[U])),_:1})])),_:1})])),_:1})}}),[["__scopeId","data-v-647a5f96"]]);export{V as default};
